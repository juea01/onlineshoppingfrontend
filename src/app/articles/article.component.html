<div class="container-fluid">

  <div class="row bg-dark">
    <div class="container">
      <app-nav-bar></app-nav-bar>
    </div>
  </div>

  <!--
  <div class="row" id="main-container" [style.height]="getOptimalMainContainerHeight()">
    <div *ngIf="getWindowInnerWidth() > 780px" class="col-md-2">

    </div>-->
 <!-- This is for wider screen like laptop phone-->
  <div *ngIf="getWindowInnerWidth() > 780px" class="row" id="main-container" [style.height]="getOptimalMainContainerHeight()">
    <div *ngIf="getWindowInnerWidth() > 780px" class="col-md-1">
      <!--This is just to push main content to the middle in wider screen-->
    </div>
    <div class="col-sm-12 col-md-8">
      <div class="row main-article">
        <ng-template ngFor let-article [ngForOf]="getArticles()">
          <div class="col-6 col-md-4 p-2">
            <div class="card m-1 p-1 bg-light">
            <!--  <img class="card-img-top" src="{{article.images[0].location}}{{article.images[0].name}}" alt="Card image cap">-->
            <img class="card-img-top" src="{{article?.images[0]?.location}}" alt="Card image cap"/>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-10"><h5 class="card-title">{{article?.title}}</h5></div>
                </div>
                <div class="row">
                  <div class="col-md-10"><h5 class="card-title">Author:{{article?.user?.username}}</h5></div>
                </div>
              <p class="card-text">{{article?.introduction?.slice(0,65)}}...</p>
              <div class="row">
                <div class="col-md-6">
                  <a [routerLink]="['/articleDetail', article.id]" class="btn btn-primary">More Details</a>
                </div>
              </div>
              </div>

           </div>
          </div>
       </ng-template>
     </div>


      <div class="form-inline float-left mr-1" *ngIf="getProductSize() > 0">
        <select class="from-control" [value]="articlesPerPage" (change)="changePageSize($event.target.value)">
          <option value="3">3 per Page</option>
          <option value="4">4 per Page</option>
          <option value="6">6 per Page</option>
        </select>
      </div>

      <div class="btn-group float-right">
       <!-- <button *ngFor="let page of pageNumbers" (click)="changePage(page)" class="btn btn-outline-primary" [class.active]="page == selectedPage">-->
        <button *counter="let page of pageCount" (click)="changePage(page)" class="btn btn-outline-primary" [class.active]="page == selectedPage">
          {{page}}
        </button>
      </div>
    </div>
    <div class="col-sm-2 col-md-3">
      <div class="card m-1 p-1 bg-light">
        <img class="card-img-top" src="../../assets/crypto_com.JPG" alt="Card image cap">
        <div class="card-body">
          <div class="row">
            <div class="col-md-10"><h5 class="card-title">Interested in staking crypto coin?</h5></div>

          </div>
        <p class="card-text">Join crypto.com exchange and stake cro. Use referal code esqk2y962e to get bonus.
           Please invest responsibly</p>
        <div class="row">
          <div class="col-md-6"><a href="https://crypto.com/exch/esqk2y962e" target="_blank" class="btn btn-primary">More Detais</a> </div>
        </div>
        </div>
      </div>
    </div>
  </div>

  <!-- This is for smaller screen like mobile phone-->
  <div *ngIf="getWindowInnerWidth() < 780px" class="row" id="main-container">
    <div *ngIf="getWindowInnerWidth() > 780px" class="col-md-1">
      <!--This is just to push main content to the middle in wider screen-->
    </div>
    <div class="col-sm-10 col-md-8">
      <div class="row main-article">
        <ng-template ngFor let-article [ngForOf]="getArticles()">
          <div class="col-6 col-md-4 p-2">
            <div class="card m-1 p-1 bg-light">
            <!--  <img class="card-img-top" src="{{article.images[0].location}}{{article.images[0].name}}" alt="Card image cap">-->
            <img class="card-img-top" src="{{article?.images[0]?.location}}" alt="Card image cap"/>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-10"><h5 class="card-title">{{article?.title}}</h5></div>

                </div>
              <p class="card-text">{{article?.introduction?.slice(0,65)}}...</p>
              <div class="row">
                <div class="col-md-6">
                  <a [routerLink]="['/articleDetail', article.id]" class="btn btn-primary">More Details</a>
                </div>
              </div>
              </div>

           </div>
          </div>
       </ng-template>
     </div>


      <div class="form-inline float-left mr-1" *ngIf="getProductSize() > 0">
        <select class="from-control" [value]="articlesPerPage" (change)="changePageSize($event.target.value)">
          <option value="3">3 per Page</option>
          <option value="4">4 per Page</option>
          <option value="6">6 per Page</option>
        </select>
      </div>

      <div class="btn-group float-right">
       <!-- <button *ngFor="let page of pageNumbers" (click)="changePage(page)" class="btn btn-outline-primary" [class.active]="page == selectedPage">-->
        <button *counter="let page of pageCount" (click)="changePage(page)" class="btn btn-outline-primary" [class.active]="page == selectedPage">
          {{page}}
        </button>
      </div>
    </div>
    <div class="col-sm-2 col-md-3">
      <div class="card m-1 p-1 bg-light">
        <img class="card-img-top" src="../../assets/crypto_com.JPG" alt="Card image cap">
        <div class="card-body">
          <div class="row">
            <div class="col-md-10"><h5 class="card-title">Interested in staking crypto coin?</h5></div>

          </div>
        <p class="card-text">Join crypto.com exchange and stake cro. Use referal code esqk2y962e to get bonus.
           Please invest responsibly</p>
        <div class="row">
          <div class="col-md-6"><a href="https://crypto.com/exch/esqk2y962e" target="_blank" class="btn btn-primary">More Detais</a> </div>
        </div>
        </div>
      </div>
    </div>
  </div>

  <!--
  <div class="row">
    <div class="container-fluid">
      <app-prediction></app-prediction>
    </div>
  </div>-->

  <div class="row">
    <div class="container-fluid">
      <app-footer></app-footer>
    </div>
  </div>

</div>
