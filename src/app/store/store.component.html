<div class="container-fluid">

  <div class="row bg-dark">
    <div class="container">
      <app-nav-bar></app-nav-bar>
    </div>
  </div>

  <!--
  <div class="row" id="main-container" [style.height]="getOptimalMainContainerHeight()">
    <div *ngIf="getWindowInnerWidth() > 780px" class="col-md-2">

    </div>-->
 <!-- This is for wider screen like laptop phone-->
  <div class="row" id="main-container" >
    <div *ngIf="getWindowInnerWidth() > 780px" class="col-md-1">
      <!--This is just to push main content to the middle in wider screen-->
    </div>
    <div class="col-sm-10 col-md-8">
      <div class="row">
        <h1 style="text-decoration: underline; font-family: 'Courier New', Courier, monospace;">Our Latest Articles</h1>
      </div>
      <div class="row main-content">
        <div class="row">
          <div class="col-sm-8 col-md-8">
            <div class="card m-1 p-1 bg-light">
              <img *ngIf="articles[0]?.images[0]?.location" class="card-img-top" src="{{articles[0]?.images[0]?.location}}" alt="article image">
              <img *ngIf="!articles[0]?.images[0]?.location" class="card-img-top" src="../../assets/AI.JPG" alt="article image">
              <div class="card-body">
                <div class="row">
                  <div class="col-sm-12 col-md-12"><h5 class="card-title">{{articles[0]?.title}}</h5></div>
                </div>
                <div class="row">
                  <div class="col-sm-12 col-md-12"><h5 class="card-title">Author:{{articles[0]?.user?.username}}</h5></div>
                </div>
                <p class="card-text">{{articles[0]?.introduction?.slice(0,65)}}...</p>
               <div class="row">
                 <div class="col-md-6"><a [routerLink]="['/articleDetail', articles[0]?.id ]" class="btn btn-primary">More Details</a> </div>
                </div>
              </div>
           </div>

          </div>
          <div class="col-sm-4 col-md-4">
            <h2>{{articles[0]?.title}}</h2>
            <p>{{articles[0]?.introduction?.slice(0,65)}}...</p>
            <h3>Author: {{articles[0]?.user?.username}}</h3>
          </div>

        </div>

        <div class="row">
          <ng-template ngFor let-article [ngForOf]="articlesPerPage"; let-i ="index">
            <div class="col-6 col-md-4 p-2">
              <div class="card m-1 p-1 bg-light">
                <img *ngIf="article?.images[0]?.location" class="card-img-top" src="{{article?.images[0]?.location}}" alt="article image">
                <img *ngIf="!article?.images[0]?.location" class="card-img-top" src="../../assets/AI.JPG" alt="article image">
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-10"><h5 class="card-title">{{article?.title}}</h5></div>
                  </div>
                  <div class="row">
                    <div class="col-md-10"><h5 class="card-title">Author:{{article?.user?.username}}</h5></div>
                  </div>
                  <p class="card-text">{{article?.introduction?.slice(0,65)}}...</p>
                <div class="row">
                  <div class="col-md-6"><a class="btn btn-primary" (click)="navigateToArticle(article?.id)">More Details</a> </div>
                </div>
                </div>

             </div>
            </div>
         </ng-template>

        </div>


      </div>

        <div class="btn-group float-right">
          <!-- <button *ngFor="let page of pageNumbers" (click)="changePage(page)" class="btn btn-outline-primary" [class.active]="page == selectedPage">-->
           <button *counter="let page of pageArticleCount" (click)="changeArticlePage(page)" class="btn btn-outline-primary" [class.active]="page == articleSelectedPage">
             {{page}}
           </button>
         </div>
         <div style="clear: both;"></div>


      <div>
        <hr/>
      </div>

      <div class="row secondary-content">
          <!-- Since title is only taking small part of the row, whenever second row has only one article that can
        fit the remaining available space of first row then content from second row is jumping up a bit. fullWidth is
        helping to mitigate the problem-->
        <div id="caseStudyViewLocation"></div>
        <div class="row fullWidth">
          <h1 style="text-decoration: underline; font-family: 'Courier New', Courier, monospace;">Our Case Studies</h1>
        </div>
        <div class="row">
          <ng-template ngFor let-caseStudy [ngForOf]="caseStudiesPerPage">
            <div class="col-6 col-md-4 p-2">
              <div class="card m-1 p-1 bg-light">
                <img *ngIf="caseStudy?.images[0]?.location" class="card-img-top" src="{{caseStudy?.images[0]?.location}}" alt="product image">
                <img *ngIf="!caseStudy?.images[0]?.location" class="card-img-top" src="../../assets/default_product_review.jpg" alt="product image">
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-10"><h5 class="card-title">{{caseStudy?.title}}</h5></div>
                  </div>
                  <div class="row">
                    <div class="col-md-10"><h5 class="card-title">Author:{{caseStudy?.user?.username}}</h5></div>
                  </div>
                  <p class="card-text">{{caseStudy?.introduction?.slice(0,65)}}...</p>
                <div class="row">
                  <div class="col-md-6"><a class="btn btn-primary" (click)="navigateToCaseStudy(caseStudy?.id)">More Details</a> </div>
                </div>
                </div>

             </div>
            </div>
         </ng-template>
        </div>
     </div>


      <!-- <div class="form-inline float-left mr-1" *ngIf="getProductSize() > 0">
        <select class="from-control" [value]="productsPerPage" (change)="changePageSize($event.target.value)">
          <option value="3">3 per Page</option>
          <option value="4">4 per Page</option>
          <option value="6">6 per Page</option>
        </select>
      </div> -->

      <div class="btn-group float-right">
       <!-- <button *ngFor="let page of pageNumbers" (click)="changePage(page)" class="btn btn-outline-primary" [class.active]="page == selectedPage">-->
        <button *counter="let page of pageCaseStudyCount" (click)="changeCaseStudyPage(page)" class="btn btn-outline-primary" [class.active]="page == caseStudiesSelectedPage">
          {{page}}
        </button>
      </div>
      <div style="clear: both;"></div>


      <div>
        <hr/>
      </div>

      <div class="row secondary-content">
          <!-- Since title is only taking small part of the row, whenever second row has only one article that can
        fit the remaining available space of first row then content from second row is jumping up a bit. fullWidth is
        helping to mitigate the problem-->
        <div id="featuresPromoViewLocation"></div>
        <div class="row fullWidth">
          <div class="col-sm-1"></div>
          <div class="col-sm-10 col-md-12"> <h1 style="text-decoration: underline; font-family: 'Courier New', Courier, monospace;">Our Features</h1></div>
          <div class="col-sm-1"></div>


        </div>
        <div class="row">
          <div class="col-sm-1"></div>
          <div class="col-sm-10 col-md-12"><h3> You don't need credit card to register with us. If you have an account with us:</h3></div>
          <div class="col-sm-1"></div>
        </div>
        <div class="row">
          <div class="col-sm-1"></div>
          <div class="col-sm-10 col-md-12">
            <ul>
              <li>You can post comments on our platform</li>
              <li>You can practise non-premium Multiple-Choic Tests for free</li>
            </ul>
            <h3>Practising multiple-choice tests not only help you understand the main points of articles you have read but also
              allows you to quickly refresh your memory about concepts. <button class="btn btn-success btn-block maxWidth200" routerLink="/registration"> Register</button>
            </h3>
          </div>
          <div class="col-sm-1"></div>

        </div>

        <div class="row">
          <div class="col-sm-2 col-md-2">
            <!-- Having issue aligning  <button  class="control previous" (click)="onPreviousClick()">
              <span class="arrow left"></span>
            </button> -->
          </div>
          <div class="col-sm-8 col-md-8">
            <div class="animationcontainer">
              <div class="carousel">
                <ng-container *ngFor="let featureImage of featureImages; let i = index">
                  <p  *ngIf="i === currentSlide" @roateImage  class="slide">
                    <img class="animationImage" src="{{featureImage.url}}" alt="Card image cap" />
                    <span class="slide-after"></span><br><strong>-{{ featureImage.caption}}-</strong>
                  </p>
                </ng-container>

              </div>
            </div>
          </div>
          <div class="col-sm-2 col-md-2">
             <!-- Having issue aligning <button class="control next" (click)="onNextClick()">
            <span class="arrow right"></span>
          </button> -->
        </div>
        </div>
     </div>

      <div>
        <hr/>
      </div>

      <div class="row secondary-content">
          <!-- Since title is only taking small part of the row, whenever second row has only one article that can
        fit the remaining available space of first row then content from second row is jumping up a bit. fullWidth is
        helping to mitigate the problem-->
        <div id="bookViewLocation"></div>
        <div class="row fullWidth">
          <h1 style="text-decoration: underline; font-family: 'Courier New', Courier, monospace;">Our Book Reviews</h1>
        </div>
        <div class="row">
          <ng-template ngFor let-product [ngForOf]="products">
            <div class="col-6 col-md-4 p-2">
              <div class="card m-1 p-1 bg-light">
                <img *ngIf="product?.images[0]?.location" class="card-img-top" src="{{product?.images[0]?.location}}" alt="product image">
                <img *ngIf="!product?.images[0]?.location" class="card-img-top" src="../../assets/default_product_review.jpg" alt="product image">
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-10"><h5 class="card-title">{{product?.name}}</h5></div>
                    <div class="col-md-2"> <span class="badge badge-pill badge-primary float-right">

                    </span></div>
                  </div>
                <div class="row">
                  <div class="col-md-6"><a  class="btn btn-primary" (click)="navigateToProduct(product.id)">More Details</a> </div>
                </div>
                </div>

             </div>
            </div>
         </ng-template>
        </div>
     </div>


      <!-- <div class="form-inline float-left mr-1" *ngIf="getProductSize() > 0">
        <select class="from-control" [value]="productsPerPage" (change)="changePageSize($event.target.value)">
          <option value="3">3 per Page</option>
          <option value="4">4 per Page</option>
          <option value="6">6 per Page</option>
        </select>
      </div> -->

      <div class="btn-group float-right">
       <!-- <button *ngFor="let page of pageNumbers" (click)="changePage(page)" class="btn btn-outline-primary" [class.active]="page == selectedPage">-->
        <button *counter="let page of pageCount" (click)="changePage(page)" class="btn btn-outline-primary" [class.active]="page == selectedPage">
          {{page}}
        </button>
      </div>
      <div style="clear: both;"></div>
    </div>
    <div class="col-sm-2 col-md-3">
      <div class="card m-1 p-1 bg-light">
        <img class="card-img-top" src="../../assets/crypto_com.JPG" alt="Card image cap">
        <div class="card-body">
          <div class="row">
            <div class="col-md-10"><h5 class="card-title">Interested in staking crypto coin?</h5></div>

          </div>
        <p class="card-text">Join crypto.com exchange and stake cro. Use referal code esqk2y962e to get bonus.
           Please invest responsibly</p>
        <div class="row">
          <div class="col-md-6"><a href="https://crypto.com/exch/esqk2y962e" target="_blank" class="btn btn-primary">More Detais</a> </div>
        </div>
        </div>
      </div>
    </div>
  </div>



  <!--
  <div class="row">
    <div class="container-fluid">
      <app-prediction></app-prediction>
    </div>
  </div>-->

  <div class="row">
    <div class="container-fluid">
       <app-footer></app-footer>
    </div>
  </div>

</div>
